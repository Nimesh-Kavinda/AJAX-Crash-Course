<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX 1 - Text File</title>
</head>
<body>
    
    <button id="button">Get Text File</button>
    <br><br>

    <div id="text"></div>


<script>
    // Create Event listner

    document.getElementById('button').addEventListener("click", loadText);

    function loadText() {
       // create XHR Object
       var xhr = new XMLHttpRequest();
       // Open - type, url/file, async
       xhr.open('GET', 'sample.txt', true);

       console.log("READYSTATE", xhr.readyState); // check readystatus

       // Optional - used for loaders
        xhr.onprogress = function(){
       console.log("READYSTATE", xhr.readyState);
        }

       xhr.onload = function(){
       console.log("READYSTATE", xhr.readyState);
        if(this.status == 200){
            document.getElementById('text').innerHTML = this.responseText;
        } else if(this.status == 404){
            document.getElementById('text').innerHTML = "Not Found"
        } 


       }

       xhr.onerror = function(){
        console.log("request Error.....");
       }

    //     xhr.onreadystatechange = function(){
    //    console.log("READYSTATE", xhr.readyState);
    //         if(this.readyState == 4 && this.status == 200){
    //             // console.log(this.responseText);
    //         }
    //     }

       // Sends Request
       xhr.send();
    }

    // ReadyState Values
    // 0: recquest not intialized
    // 1: server connection established
    // 2: requset received
    // 3: processing recquest
    // 4: recquest finsihed and response is ready


    // HTTP Statuses
    // 200: "OK"
    // 403: "Forbidden"
    // 404: "Not Found"
</script>


</body>
</html> 